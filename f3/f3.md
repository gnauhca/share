title: getContext('2d') 画 3D 场景
speaker: 阿创
url: https://github.com/gnauhca/share/f3
transition: slide2
files: /js/ppt.js,/css/ppt.css,/js/zoom.js
theme: moon
usemathjax: yes





[slide]
# 没有 getContext('3d')？

## 自己造一个！

[slide]

## 应用场景
----
<table id="yingyongchangjing-table">
    <tr>
        <td><img src='/images/yingyongchangjing-1.png' style="float: left; width: 100%;"></td>
        <td><img src='/images/yingyongchangjing-2.png' style="float: left; width: 100%;"></td>
        <td><img src='/images/yingyongchangjing-3.png' style="float: left; width: 100%;"></td>
    </tr>
    <tr>
        <td><img src='/images/yingyongchangjing-4.png' style="float: left; width: 100%;"></td>
        <td><img src='/images/yingyongchangjing-5.png' style="float: left; width: 100%;"></td>
        <td><img src='/images/yingyongchangjing-6.png' style="float: left; width: 100%;"></td>
    </tr>
</table>
<style>
#yingyongchangjing-table, 
#yingyongchangjing-table td,
#yingyongchangjing-table tr {
    box-shadow: none;
    border: none;
    background-color: rgba(0,0,0,0);
    text-align: left;
    padding-left: 0;
}
</style>

[slide]
## 只有 X Y 
就算你数学很厉害，很多场景也只能勉强还原，要花费很多时间

[slide]
## 加入 Z

一个物体相同的 xy 坐标不同的 z 轴，对应到成像二维平面，对应的 xy 坐标是不一样的，但是是有一定对应关系的。同样，相同大小的物体，在上述条件下，对应到二维平面呈现大小也会不一样。

我们都知道近大远小，那大改大多少，小有应该小多少？
我们关键就是要找到这个比例关系 Scale

[slide]
## 素描：视点、消失点
视点： 人眼睛所在的位置
消失点：凡是平行的直线都消失于无穷远处的同一个点，消失于视平线上的点的直线都是水平直线。


[slide]
## 初中物理
![小孔成像](/images/xiaokongchengxiang.jpg)

[slide]
想象物体由无数点组成，每个点都会映射到成像屏上
![小孔成像](/images/xiaokongchengxiangdraw.png)

[slide]
## CSS 3D 中的处理方式
以像素为单位
Z 等于 0 的时候，点的 X Y 和屏幕像素坐标的 X Y 一致
Z 等于其他值的时候，根据 perspective （观察者到屏幕的距离），呈现不同程度的景深效果。

[slide]
![小孔成像](/images/xiaokongchengxiangcss.png)

[slide]
![小孔成像](/images/xiaokongchengxiangscale.png)


[slide]
## Scale 
所以，神秘的 Scale 就这样被算出来了
Scale = p/p+z


